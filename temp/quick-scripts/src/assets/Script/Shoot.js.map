{"version":3,"sources":["assets\\Script\\Shoot.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import {EventMgr} from \"./common/EventManager\";\r\nimport Game from \"./Game\";\r\nimport {GameLogic} from \"./GameLogic\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Shoot extends cc.Component {\r\n    @property(cc.Node) football: cc.Node = null;\r\n    @property(cc.Node)giftNode: cc.Node = null;\r\n    giftList: cc.Node[] = [];\r\n    protected onLoad(): void {\r\n        EventMgr.on(\"onGetGiftList\", this.updateGifts, this);\r\n        this.initBtnClickHandle();\r\n        this.initGiftNodes();\r\n    }\r\n    initGiftNodes(){\r\n        for(let i=0;i<9;i++){\r\n            this.giftList[i] = this.giftNode.getChildByName(\"gift\"+(i+1));\r\n        }\r\n        if(GameLogic.instance.giftList.length>0){\r\n            this.updateGifts();\r\n        }\r\n        else{\r\n            GameLogic.instance.reqQueryGiftList();\r\n        }\r\n    }\r\n    updateGifts(){\r\n        for(let i=0;i<this.giftList.length;i++){\r\n            let gift = GameLogic.instance.giftList[i];\r\n            let node = this.giftList[i];\r\n            GameLogic.instance.loadRemoteSprite(gift.giftImage,node.getComponent(cc.Sprite));\r\n        }\r\n    }\r\n    protected initBtnClickHandle() {\r\n        this.getComponentsInChildren(cc.Button).forEach((btn) => {\r\n            if (btn.transition === cc.Button.Transition.NONE) {\r\n                btn.transition = cc.Button.Transition.SCALE;\r\n                btn.duration = 0.1;\r\n                btn.zoomScale = 0.9;\r\n            }\r\n            btn.node.on(\r\n                \"click\",\r\n                () => {\r\n                    this.onBtnClickHandle(btn.node.name, btn);\r\n                },\r\n                this\r\n            );\r\n        });\r\n    }\r\n    \r\n\r\n    start () {\r\n\r\n    }\r\n    \r\n    onBtnShoot(){\r\n        \r\n    }\r\n    onBtnClickHandle(name, btn) {\r\n        switch (name) {\r\n            case \"btnBack\":\r\n                this.node.destroy();\r\n                break;\r\n            case \"btnHelp\":\r\n                Game.instance.showView(\"Help\");\r\n                break;\r\n            case \"btnSound\":\r\n                \r\n                break;\r\n            case \"btnName\":\r\n                \r\n                break;\r\n            case \"btnShoot\":\r\n                break;\r\n        }\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}