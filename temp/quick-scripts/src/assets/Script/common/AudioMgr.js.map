{"version":3,"sources":["assets\\Script\\common\\AudioMgr.ts"],"names":[],"mappings":";;;;;;;AAAA;IAAA;IAkEA,CAAC;IA3DU,aAAI,GAAX;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;IAC/B,CAAC;IAED,UAAU;IACH,kBAAS,GAAhB;QACI,EAAE,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;IAC/B,CAAC;IAEM,mBAAU,GAAjB;QACI,EAAE,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;IAChC,CAAC;IAEM,oBAAW,GAAlB;QACI,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;IACjC,CAAC;IAEM,uBAAc,GAArB,UAAsB,MAAc;QAChC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,EAAE,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAClD,CAAC;IAEM,yBAAgB,GAAvB,UAAwB,MAAc;QAClC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;QAC5B,EAAE,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACxD,CAAC;IAED;;OAEG;IACI,kBAAS,GAAhB,UAAiB,KAA4B,EAAE,MAAc,EAAE,MAAkB,EAAE,UAAyB;QAA7D,uBAAA,EAAA,cAAc;QAAE,uBAAA,EAAA,aAAkB;QAAE,2BAAA,EAAA,iBAAyB;QACxG,IAAI,OAAO,KAAK,IAAI,QAAQ,EAAE;YAC1B,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,IAAkB;gBACpE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;SACN;aAAM;YACH,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;SAC5C;IACL,CAAC;IAED,QAAQ;IACD,uBAAc,GAArB,UAAsB,cAAqB;QAArB,+BAAA,EAAA,qBAAqB;QACvC,IAAI,cAAc,IAAI,IAAI,EAAE;YACxB,cAAc,GAAG,mBAAmB,CAAC;SACxC;QACD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;IACnC,CAAC;IAEM,mBAAU,GAAjB,UAAkB,IAAY;QAC1B,IAAI,CAAC,IAAI,CAAC,SAAS;YAAE,OAAO;QAC5B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC;YAAE,OAAO;QACtC,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAEM,sBAAa,GAApB;QACI,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,EAAE,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;IACpC,CAAC;IAhEM,sBAAa,GAAmB,IAAI,CAAC;IACrC,kBAAS,GAAG,CAAC,CAAC;IACd,sBAAa,GAAG,CAAC,CAAC;IA+D7B,eAAC;CAlED,AAkEC,IAAA;AAlEY,4BAAQ","file":"","sourceRoot":"/","sourcesContent":["export class AudioMgr {\r\n    static bgAudioSource: cc.AudioSource = null;\r\n    static bgmVolume = 1;\r\n    static effectsVolume = 1;\r\n\r\n    static effectMap: Map<cc.AudioClip | string, number>;\r\n\r\n    static init() {\r\n        this.effectMap = new Map();\r\n    }\r\n\r\n    //停止播放背景音乐\r\n    static stopMusic() {\r\n        cc.audioEngine.stopMusic();\r\n    }\r\n\r\n    static pauseMusic() {\r\n        cc.audioEngine.pauseMusic();\r\n    }\r\n\r\n    static resumeMusic() {\r\n        cc.audioEngine.resumeMusic();\r\n    }\r\n\r\n    static setMusicVolume(volume: number) {\r\n        this.bgmVolume = volume;\r\n        cc.audioEngine.setMusicVolume(this.bgmVolume);\r\n    }\r\n\r\n    static setEffectsVolume(volume: number) {\r\n        this.effectsVolume = volume;\r\n        cc.audioEngine.setEffectsVolume(this.effectsVolume);\r\n    }\r\n\r\n    /**\r\n     * @param {*} target 跟随目标节点释放资源\r\n     */\r\n    static playSound(sound: cc.AudioClip | string, isLoop = false, target: any = null, bundleName: string = null) {\r\n        if (typeof sound == \"string\") {\r\n            cc.resources.load(sound, cc.AudioClip, function (err, clip: cc.AudioClip) {\r\n                cc.audioEngine.playEffect(clip, isLoop);\r\n            });\r\n        } else {\r\n            cc.audioEngine.playEffect(sound, isLoop);\r\n        }\r\n    }\r\n\r\n    //按钮点击声音\r\n    static playClickAudio(clickSoundName = null) {\r\n        if (clickSoundName == null) {\r\n            clickSoundName = \"sound/sound_click\";\r\n        }\r\n        this.playSound(clickSoundName);\r\n    }\r\n\r\n    static stopEffect(name: string) {\r\n        if (!this.effectMap) return;\r\n        if (!this.effectMap.get(name)) return;\r\n        cc.audioEngine.stopEffect(this.effectMap.get(name));\r\n        this.effectMap.delete(name);\r\n    }\r\n\r\n    static stopAllEffect() {\r\n        this.effectMap.clear();\r\n        cc.audioEngine.stopAllEffects();\r\n    }\r\n}\r\n"]}